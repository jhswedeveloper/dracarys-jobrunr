TODO 

* Support for middlewares
* All middlewares will run before each cmd execution 